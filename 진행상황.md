# Zota - 진행상황

## 현재 상태

Phase 4까지 완료. 총 33개 테스트 통과.

## 완료된 단계

### Phase 1: 기반 구축 ✅
- Xcode 프로젝트 생성 (xcodegen 기반)
- 사이드바 네비게이션 + 3개 뷰 스켈레톤
- AppSettings + SettingsView (Vault 경로 선택, Ollama 연결 상태)
- OllamaService.healthCheck()

### Phase 2: 빠른 캡처 ✅
- MarkdownParser - YAML frontmatter 파싱/생성
- VaultService.createNote() - Inbox 폴더에 마크다운 파일 생성
- CaptureView - 제목, 내용, 태그 입력 UI + FlowLayout 태그 칩
- ⌘+Return 단축키 저장

### Phase 3: 데일리 리뷰 ✅
- PromptService - Vault 내 프롬프트 파일 로딩 (기본 프롬프트 폴백)
- DailyReviewResult 모델 - JSON 디코딩 + toMarkdown()
- DailyReviewView - 날짜 선택 → 메모 로딩 → AI 리뷰 생성 → 미리보기 → 저장
- 기본 프롬프트 파일 (prompts/DailySummary.md)

### Phase 4: 프롬프트 최적화 ✅
- DailySummary 프롬프트: Few-Shot 3개 예시, 구체적 분류 기준, 한국어 출력 강제
- Tagger 프롬프트: 제목+내용 기반 태그 제안, 허용 목록 필터링
- CaptureView에 AI 태그 제안 버튼 (sparkles 아이콘)
- TagSuggestionResult 모델 + filteredTags 안전 필터링

## 다음 할 일 (Phase 5: 추가 고도화)

- 인박스 자동 분류 (FSEvents로 Vault 감시 → LLM 분류 → 폴더 이동)
- 글로벌 단축키 (앱 백그라운드에서도 캡처 가능)
- 재무 데이터 파이프라인

## 테스트 현황

| Phase | 추가 테스트 | 누적 |
|-------|-----------|------|
| Phase 1~2 | VaultService(8), MarkdownParser(8), OllamaService(3) | 19개 |
| Phase 3 | PromptService(3), DailyReview(6) | 28개 |
| Phase 4 | TagSuggestion(5) | 33개 |

## 핵심 설계 요약

- **앱**: Swift + SwiftUI (macOS 14+)
- **LLM**: Ollama (llama3 8B, q4_k_m)
- **Vault 연동**: 로컬 파일 시스템 직접 읽기/쓰기
- **프롬프트 관리**: Vault 내 마크다운 파일 (없으면 앱 내장 기본값 폴백)
- **환각 방지**: JSON 모드 + 허용값 필터링 + 사용자 확인
